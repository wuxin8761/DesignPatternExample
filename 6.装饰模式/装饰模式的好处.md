è£…é¥°æ¨¡å¼ï¼ˆDecorator Patternï¼‰æ˜¯ä¸€ç§**ç»“æ„å‹è®¾è®¡æ¨¡å¼**ï¼Œå®ƒå…è®¸ä½ é€šè¿‡å°†å¯¹è±¡æ”¾å…¥åŒ…å«è¡Œä¸ºçš„ç‰¹æ®Šå°è£…å™¨ï¼ˆè£…é¥°å™¨ï¼‰ä¸­æ¥**åŠ¨æ€åœ°æ‰©å±•å¯¹è±¡çš„åŠŸèƒ½**ã€‚
ä¸ç»§æ‰¿ä¸åŒçš„æ˜¯ï¼Œè£…é¥°æ¨¡å¼åœ¨è¿è¡Œæ—¶åŠ¨æ€æ·»åŠ åŠŸèƒ½ï¼Œè€Œä¸æ˜¯åœ¨ç¼–è¯‘æ—¶é™æ€å†³å®šã€‚

---

## ä¸€ã€æ ¸å¿ƒæ€æƒ³

> **è£…é¥°æ¨¡å¼çš„æ ¸å¿ƒæ˜¯ç»„åˆ + ç»§æ‰¿æ¥å£ï¼Œå®ç°åŠŸèƒ½å¢å¼ºè€Œä¸ä¿®æ”¹åŸæœ‰ç±»ã€‚**

è£…é¥°æ¨¡å¼çš„å…³é”®åœ¨äºï¼š
- å®šä¹‰ä¸€ä¸ªç»„ä»¶æ¥å£ `IComponent`ã€‚
- å…·ä½“ç»„ä»¶ç±» `ConcreteComponent` å®ç°è¯¥æ¥å£ã€‚
- è£…é¥°å™¨æŠ½è±¡ç±» `Decorator` ä¹Ÿå®ç°è¯¥æ¥å£ï¼Œå¹¶æŒæœ‰ `IComponent` çš„å¼•ç”¨ã€‚
- å…·ä½“è£…é¥°å™¨ç±» `ConcreteDecoratorA/B` åœ¨è°ƒç”¨æ–¹æ³•å‰åæ·»åŠ é¢å¤–åŠŸèƒ½ã€‚

---

## äºŒã€å¥½å¤„

| å¥½å¤„ | æè¿° |
|------|------|
| âœ… **åŠ¨æ€æ‰©å±•åŠŸèƒ½** | å¯ä»¥åœ¨è¿è¡Œæ—¶ä¸ºå¯¹è±¡æ·»åŠ æ–°åŠŸèƒ½ï¼Œæ— éœ€ä¿®æ”¹åŸæœ‰ä»£ç ã€‚ |
| âœ… **é¿å…ç±»çˆ†ç‚¸** | ç›¸æ¯”å¤šé‡ç»§æ‰¿ï¼Œä½¿ç”¨è£…é¥°å™¨ç»„åˆåŠŸèƒ½å¯ä»¥å¤§å¤§å‡å°‘å­ç±»æ•°é‡ã€‚ |
| âœ… **é«˜å†…èšä½è€¦åˆ** | æ¯ä¸ªè£…é¥°å™¨åªå…³æ³¨è‡ªå·±çš„èŒè´£ï¼Œç¬¦åˆå¼€é—­åŸåˆ™å’Œå•ä¸€èŒè´£åŸåˆ™ã€‚ |
| âœ… **çµæ´»ç»„åˆåŠŸèƒ½** | å¤šä¸ªè£…é¥°å™¨å¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œå½¢æˆè´£ä»»é“¾æˆ–å¢å¼ºé“¾ã€‚ |

---

## ä¸‰ã€è§£å†³äº†ä»€ä¹ˆé—®é¢˜

| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ |
|------|----------|
| âŒ **ç»§æ‰¿å¯¼è‡´ç±»çˆ†ç‚¸** | å¤šç§ç»„åˆéœ€æ±‚ä¸‹ï¼Œç»§æ‰¿ä¼šå¯¼è‡´å¤§é‡å­ç±»ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚ |
| âŒ **é™æ€ç»‘å®šåŠŸèƒ½** | ä½¿ç”¨ç»§æ‰¿æ–¹å¼æ— æ³•åœ¨è¿è¡Œæ—¶åŠ¨æ€å¼€å¯/å…³é—­åŠŸèƒ½ã€‚ |
| âŒ **ç´§è€¦åˆ** | ä¿®æ”¹åŸºç±»ä¼šå½±å“æ‰€æœ‰å­ç±»ï¼Œè¿åå¼€é—­åŸåˆ™ã€‚ |

---

## å››ã€C# ç¤ºä¾‹ä»£ç ï¼šè£…é¥°æ¨¡å¼å®ç°æ—¥å¿—è®°å½•åŠŸèƒ½

### 1. æ¥å£å®šä¹‰
```csharp
public interface ILogger
{
    void Log(string message);
}
```


### 2. åŸºç¡€å®ç°ç±»
```csharp
public class ConsoleLogger : ILogger
{
    public void Log(string message)
    {
        Console.WriteLine($"[æ—¥å¿—] {message}");
    }
}
```


### 3. æŠ½è±¡è£…é¥°å™¨ç±»
```csharp
public abstract class LoggerDecorator : ILogger
{
    protected ILogger decoratedLogger;

    public LoggerDecorator(ILogger logger)
    {
        decoratedLogger = logger;
    }

    public virtual void Log(string message)
    {
        decoratedLogger.Log(message);
    }
}
```


### 4. å…·ä½“è£…é¥°å™¨ç±»
```csharp
// æ·»åŠ æ—¶é—´æˆ³
public class TimestampLoggerDecorator : LoggerDecorator
{
    public TimestampLoggerDecorator(ILogger logger) : base(logger) { }

    public override void Log(string message)
    {
        string timestampMessage = $"{DateTime.Now:yyyy-MM-dd HH:mm:ss} - {message}";
        base.Log(timestampMessage);
    }
}

// æ·»åŠ æ–‡ä»¶å†™å…¥åŠŸèƒ½
public class FileLoggerDecorator : LoggerDecorator
{
    public FileLoggerDecorator(ILogger logger) : base(logger) { }

    public override void Log(string message)
    {
        base.Log(message);
        File.AppendAllText("log.txt", message + Environment.NewLine);
    }
}
```


### 5. ä½¿ç”¨ç¤ºä¾‹
```csharp
class Program
{
    static void Main()
    {
        // åŸå§‹æ§åˆ¶å°æ—¥å¿—
        ILogger logger = new ConsoleLogger();
        logger.Log("ç”¨æˆ·ç™»å½•");

        // åŠ ä¸Šæ—¶é—´æˆ³çš„æ—¥å¿—
        ILogger timestampLogger = new TimestampLoggerDecorator(new ConsoleLogger());
        timestampLogger.Log("ç”¨æˆ·ç™»å‡º");

        // åŒæ—¶è¾“å‡ºæ§åˆ¶å°å¹¶å†™å…¥æ–‡ä»¶
        ILogger fullLogger = new FileLoggerDecorator(
            new TimestampLoggerDecorator(new ConsoleLogger()));
        fullLogger.Log("ç³»ç»Ÿé‡å¯");
    }
}
```


---

## äº”ã€æ€»ç»“

| é¡¹ç›® | æè¿° |
|------|------|
| ğŸ“¦ **é€‚ç”¨åœºæ™¯** | åŠ¨æ€ã€é€æ˜åœ°ç»™å¯¹è±¡æ·»åŠ èŒè´£ï¼›å½“å­ç±»æ‰©å±•ä¸åˆ‡å®é™…æ—¶ã€‚ |
| ğŸ” **ç»“æ„ç»„æˆ** | æŠ½è±¡ç»„ä»¶ã€å…·ä½“ç»„ä»¶ã€æŠ½è±¡è£…é¥°å™¨ã€å…·ä½“è£…é¥°å™¨ã€‚ |
| âš–ï¸ **ä¼˜ç¼ºç‚¹** | çµæ´»ä½†å¯èƒ½å¢åŠ å¤æ‚æ€§ï¼›éœ€è¦åˆç†è®¾è®¡æ¥å£ã€‚ |
| ğŸ® **æ¸¸æˆå¼€å‘åº”ç”¨** | è§’è‰²æŠ€èƒ½å åŠ ã€æ­¦å™¨å±æ€§å¢å¼ºã€UIæ•ˆæœå åŠ ç­‰ã€‚ |

---

### âœ… ä¸¾ä¸ªæ¸¸æˆä¸­çš„ä¾‹å­ï¼š

æ¯”å¦‚æ¸¸æˆä¸­è§’è‰²æœ‰åŸºç¡€æ”»å‡»åŠ›ï¼Œå¯ä»¥é€šè¿‡è£…å¤‡æ­¦å™¨ã€é“å…·ã€æŠ€èƒ½ç­‰æ–¹å¼å¢å¼ºæ”»å‡»èƒ½åŠ›ã€‚æ¯ä¸ªè£…é¥°å™¨éƒ½å¯ä»¥åŠ¨æ€æ·»åŠ ä¸åŒçš„åŠ æˆï¼Œå¦‚ï¼š

- `FirePowerDecorator`ï¼š+20 æ”»å‡»åŠ›
- `CriticalHitDecorator`ï¼š+10% æš´å‡»ç‡
- `PoisonDecorator`ï¼šé™„åŠ ä¸­æ¯’ä¼¤å®³

è¿™æ ·å°±å¯ä»¥åœ¨è¿è¡Œæ—¶ç»„åˆå‡ºå„ç§èƒ½åŠ›ï¼Œè€Œä¸éœ€è¦ä¸ºæ¯ç§ç»„åˆåˆ›å»ºæ–°ç±»ã€‚